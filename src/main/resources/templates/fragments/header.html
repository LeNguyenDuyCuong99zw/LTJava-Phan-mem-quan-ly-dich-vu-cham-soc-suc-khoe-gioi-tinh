<header th:fragment="siteHeader">
  <div class="body-custom">
    <div class="top-bar">
      <div class="hotline">
        Hotline đặt khám:
        <span style="margin-left: 5px">📞 1900 3367</span>
      </div>
      <div class="auth">
        <i class="fa-regular fa-circle-user icon-user"></i>
        <span th:if="${session.userName != null}" style="font-weight: bold"
          >[[${session.userName}]]</span
        >
        <a
          th:if="${session.userName == 'Admin'}"
          th:href="@{/dashboard}"
          style="margin-left: 10px; font-weight: bold; color: #009879"
          >Dashboard</a
        >
        <a th:href="@{/login}" id="loginBtn" th:if="${session.userName == null}"
          >Đăng nhập</a
        >
        <a
          th:href="@{/auth/logout}"
          th:if="${session.userName != null}"
          style="margin-left: 10px"
          >Đăng xuất</a
        >
      </div>
    </div>
    <div class="main-header">
      <div class="logo">
        <a href="/" title="Trang chủ">
          <img
            src="https://ivie.vn/_next/image?url=%2F_next%2Fstatic%2FIVIE_logo.svg&w=384&q=75"
            alt="Logo"
          />
        </a>
      </div>
      <nav class="nav">
        <div class="dropdown-wrap" id="dropdownWrap">
          <a href="javascript:void(0);" class="dropdown" id="dropdownBtn"
            >Đặt khám</a
          >
          <div class="dropdown-menu" id="dropdownMenu">
            <a th:href="@{/appointment-booking}">Đặt khám online</a>
            <a href="#">Chuyên khoa</a>
            <a href="#">Cơ sở y tế</a>
            <a th:href="@{/bac-si-noi-bat}">Bác sĩ</a>
            <a th:href="@{/cycles}">Xem lịch sử chu kỳ</a>
            <a th:href="@{/cycles}">Khai báo chu kỳ mới</a>
          </div>
        </div>
        <a th:href="@{/hiemmuon}">Hiếm Muộn</a>
        <a th:href="@{/s_experiences}">Kinh nghiệm</a>
        <a href="#">Hỏi đáp bác sĩ</a>
        <a th:href="@{/health-records}">Hồ sơ sức khỏe</a>
      </nav>
      <div class="menu-icon" id="menuIcon">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <!-- Đổi side-menu thành aside -->
    <aside class="side-menu" id="sideMenu">
      <button class="close-btn" id="closeMenu">&times;</button>
      <div class="menu-section" style="margin-bottom: 8px">
        <div
          class="menu-title"
          style="font-size: 18px; color: #00103a; font-weight: 600"
        >
          <span th:if="${session.userName == null}">
            <a
              th:href="@{/register}"
              style="color: #00103a; text-decoration: none; margin-right: 12px"
              >Đăng ký</a
            >
            /
            <a
              th:href="@{/login}"
              style="color: #00103a; text-decoration: none"
              id="loginBtn"
              >Đăng nhập</a
            >
          </span>
          <span th:if="${session.userName != null}">
            <i class="fa-regular fa-circle-user icon-user"></i>
            <span style="font-weight: bold">[[${session.userName}]]</span>
            <a
              th:href="@{/auth/logout}"
              style="
                margin-left: 10px;
                color: black;
                background: #e0f2ef;
                padding: 6px 16px;
                border-radius: 4px;
                font-weight: 600;
                text-decoration: none;
                transition: background 0.2s;
              "
              onmouseover="this.style.background='#b4dbd3'"
              onmouseout="this.style.background='#e0f2ef'"
              >Đăng xuất</a
            >
          </span>
        </div>
      </div>
      <div class="divider"></div>
      <div class="menu-section">
        <div class="menu-links">
          <a href="javascript:void(0);" class="dropdown" id="dropdownBtnMobile"
            >Đặt khám</a
          >
          <div class="dropdown-content" id="dropdownContentMobile">
            <a th:href="@{/appointment-booking}">Đặt khám online</a>
            <a href="#">Chuyên khoa</a>
            <a href="#">Cơ sở y tế</a>
            <a th:href="@{/bac-si-noi-bat}">Bác sĩ</a>
            <a th:href="@{/cycles}">Xem lịch sử chu kỳ</a>
            <a th:href="@{/cycles}">Khai báo chu kỳ mới</a>
          </div>
          <a th:href="@{/hiemmuon}">Hiếm Muộn</a>
          <a th:href="@{/s_experiences}">Kinh nghiệm</a>
          <a href="#">Hỏi đáp bác sĩ</a>
          <a th:href="@{/health-records}">Hồ sơ sức khỏe</a>
        </div>
      </div>
      <div class="divider"></div>
      <div class="menu-section">
        <div
          class="menu-title"
          style="font-size: 16px; color: #00103a; font-weight: 500"
        >
          Tải App
        </div>
        <div class="app-links">
          <div>
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg"
              alt="Google Play"
              style="height: 40px"
            />
            <img
              src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg"
              alt="App Store"
              style="height: 40px"
            />
          </div>
          <img
            class="qr"
            src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=https://ivie.vn"
            alt="QR Code"
          />
        </div>
      </div>
      <div class="divider"></div>
      <div class="support-links">
        <div class="support-box">
          <span class="icon">📞</span>
          <div style="font-size: 14px; color: #00103a">Hotline đặt khám:</div>
          <div style="font-size: 18px; font-weight: 600; color: #009879">
            1900 3367
          </div>
        </div>
        <div class="support-box">
          <span class="icon">⚙️</span>
          <div style="font-size: 14px; color: #00103a">
            Trung tâm<br />trợ giúp
          </div>
        </div>
      </div>
    </aside>
    <div class="side-menu-overlay" id="sideMenuOverlay"></div>
  </div>
</header>
